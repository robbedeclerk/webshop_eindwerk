{% extends "base.html" %}
{% block content %}
<div class="container mt-4">
    <h1>Manage Shop Data</h1>
    <hr>

    <!-- Add Category Form -->
    <h2>Add Category</h2>
    <form method="POST" action="{{ url_for('manage_shop_data') }}">
        {{ category_form.hidden_tag() }}
        <div class="mb-3">
            {{ category_form.name.label }} 
            {{ category_form.name(class="form-control") }}
        </div>
        <button type="submit" name="add_category" class="btn btn-secondary">Add Category</button>
    </form>
    
    <hr>

    <!-- Add Product Form -->
    <h2>Add Product</h2>
    <form method="POST" action="{{ url_for('manage_shop_data') }}" enctype="multipart/form-data">
        {{ product_form.hidden_tag() }}
        <div class="mb-3">
            {{ product_form.name.label }} 
            {{ product_form.name(class="form-control") }}
        </div>
        <div class="mb-3">
            {{ product_form.description.label }} 
            {{ product_form.description(class="form-control") }}
        </div>
        <div class="mb-3">
            {{ product_form.price.label }} 
            {{ product_form.price(class="form-control") }}
        </div>
        <div class="mb-3">
            {{ product_form.category.label }} 
            {{ product_form.category(class="form-control") }}
        </div>
        <div class="mb-3">
            {{ product_form.image.label }} 
            {{ product_form.image(class="form-control") }}
        </div>
        <button type="submit" name="add_product" class="btn btn-secondary">Add Product</button>
    </form>
    
    <hr>

    <!-- Delete Category Form -->
    <h2>Delete Categories</h2>
    <ul class="list-group mb-4">
        {% for category in categories %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ category.name }}
            <form method="POST" action="{{ url_for('manage_shop_data') }}" style="margin: 0;">
                <input type="hidden" name="category_id" value="{{ category.id }}">
                <button type="submit" name="delete_category" class="btn btn-danger btn-sm">Delete</button>
            </form>
        </li>
        {% endfor %}
    </ul>
    
    <hr>

    <!-- Delete Product Form -->
    <h2>Delete Products</h2>
    <ul class="list-group">
        {% for product in products %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ product.name }}
            <form method="POST" action="{{ url_for('manage_shop_data') }}" style="margin: 0;">
                <input type="hidden" name="product_id" value="{{ product.id }}">
                <button type="submit" name="delete_product" class="btn btn-danger btn-sm">Delete</button>
            </form>
        </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
